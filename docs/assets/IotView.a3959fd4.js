import{_ as c}from"./index.c2bdb860.js";import{i as l,j as _,o as r,c as h,a as t,n,t as o,F as m}from"./vendor.a09b0267.js";const f={"1662545":"Edwin Marroquin"};const v={name:"MeteorologyPage",props:{},setup(){const a=l({channels:{},data:[],info:[],lastData:[],geoLoc:"",loading:!0,active:!1}),e=async()=>{a.data=[];const s=await fetch("https://api.thingspeak.com/channels/1662545/feeds.json");a.data=await s.json(),a.info=a.data.channel,a.data=a.data.feeds,a.lastData=a.data[a.data.length-1],a.lastData.date=new Date(a.lastData.created_at).toLocaleDateString(),a.lastData.time=new Date(a.lastData.created_at).toLocaleTimeString()},d=()=>{a.active=!a.active,document.body.classList.toggle("td"),document.body.classList.toggle("tl")};return _(async()=>{a.channels=f,setInterval(e,2e3),navigator.geolocation.getCurrentPosition(s=>{a.geoLoc=`https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d400!2d${s.coords.longitude}!3d${s.coords.latitude}!3m2!1i2048!2i768!4f13!5e1!3m2!1ses-419!2sco!4v1647399527212!5m2!1ses-419!2sco`})}),{state:a,setTheme:d}}},g=t("div",{class:"f fas fa-lg fa-sun"},null,-1),u=t("div",{class:"f fas fa-lg fa-moon"},null,-1),p=[g,u],D={class:"map"},w=["src"],y={class:"data"},L={class:"dt"},b=t("div",{class:"dt-i fad fa-calendar-clock"},null,-1),k={class:"dt-v v"},x={id:"fd"},C={id:"ft"},T={class:"dt"},j=t("div",{class:"dt-i fad fa-temperature-sun te"},null,-1),B={class:"dt-v te"},I={id:"te"},M=t("span",{class:"dt-tg"},"\xB0C",-1),S={class:"dt"},V=t("div",{class:"dt-i fad fa-hand-holding-water hu"},null,-1),E={class:"dt-v hu"},F={id:"hu"},P=t("span",{class:"dt-tg"},"%",-1);function q(a,e,d,s,z,N){return r(),h(m,null,[t("div",{class:n(["mo",s.state.active?"moon":"sun"]),id:"mo",onClick:e[0]||(e[0]=(...i)=>s.setTheme&&s.setTheme(...i))},[t("div",{class:n(["icn",s.state.active?"act":""]),id:"icn"},p,2)],2),t("div",D,[t("iframe",{id:"map",src:s.state.geoLoc,frameborder:"0",style:{width:"100%",height:"auto"}},null,8,w)]),t("div",y,[t("div",L,[b,t("div",k,[t("span",x,o(s.state.lastData.time),1),t("span",C,o(s.state.lastData.date),1)])]),t("div",T,[j,t("div",B,[t("span",I,o(s.state.lastData.field1),1),M])]),t("div",S,[V,t("div",E,[t("span",F,o(s.state.lastData.field2),1),P])])])],64)}var H=c(v,[["render",q]]);export{H as default};
