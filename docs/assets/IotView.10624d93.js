import{_ as r}from"./index.c584718f.js";import{i as h,j as m,o as i,c,a as t,F as _,k as u,t as e}from"./vendor.6d20fed3.js";const g={"1662545":"Edwin Marroquin"};const p={name:"MeteorologyPage",props:{},setup(){const a=h({channels:{},data:[],info:[],lastData:[],loading:!0}),o=async n=>{a.data=[];const s=await fetch("https://api.thingspeak.com/channels/1662545/feeds.json");a.data=await s.json(),a.info=a.data.channel,a.data=a.data.feeds,a.lastData=a.data[a.data.length-1],a.lastData.date=new Date(a.lastData.created_at).toLocaleDateString(),a.lastData.time=new Date(a.lastData.created_at).toLocaleTimeString()};return m(async()=>{navigator.geolocation.getCurrentPosition(n=>{a.geoLoc=`https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d600!2d${n.coords.longitude}!3d${n.coords.latitude}!3m2!1i2048!2i768!4f13!5e1!3m2!1ses-419!2sco!4v1647399527212!5m2!1ses-419!2sco`}),a.channels=g,setInterval(o,2e3)}),{state:a}}},f=t("h1",null,"Vue 3 and Fetch Example",-1),v=t("option",{selected:""},"Seleccione un canal",-1),D=["value"],w={class:"map"},y=["src"],k={class:"data"},L={class:"dt"},S=t("div",{class:"dt-i fad fa-calendar-clock"},null,-1),V={class:"dt-v v"},b={id:"fd"},j={id:"ft"},B={class:"dt"},C=t("div",{class:"dt-i fad fa-temperature-sun te"},null,-1),E={class:"dt-v te"},F={id:"te"},I=t("span",{class:"dt-tg"},"\xB0C",-1),M={class:"dt"},x=t("div",{class:"dt-i fad fa-hand-holding-water hu"},null,-1),P={class:"dt-v hu"},q={id:"hu"},N=t("span",{class:"dt-tg"},"%",-1);function T(a,o,n,s,$,z){return i(),c(_,null,[f,t("select",{name:"channels",id:"channels",onChange:o[0]||(o[0]=(...d)=>a.getData&&a.getData(...d))},[v,(i(!0),c(_,null,u(s.state.channels,(d,l)=>(i(),c("option",{key:l,value:l},e(d),9,D))),128))],32),t("div",w,[t("iframe",{id:"map",src:a.geoLoc,frameborder:"0",style:{width:"100%",height:"auto"}},null,8,y)]),t("div",k,[t("div",L,[S,t("div",V,[t("span",b,e(s.state.lastData.time),1),t("span",j,e(s.state.lastData.date),1)])]),t("div",B,[C,t("div",E,[t("span",F,e(s.state.lastData.field1),1),I])]),t("div",M,[x,t("div",P,[t("span",q,e(s.state.lastData.field2),1),N])])])],64)}var H=r(p,[["render",T]]);export{H as default};
