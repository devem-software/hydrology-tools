import{_ as l}from"./index.4033461f.js";import{i as _,j as r,o as h,c as m,a as t,n as i,t as o,F as f}from"./vendor.55cce67d.js";const v={"1662545":"Edwin Marroquin"};const g={name:"MeteorologyPage",props:{},setup(){const a=_({channels:{},data:[],info:[],lastData:[],geoLoc:"",loading:!0,active:!1}),e=async s=>{a.data=[];const n=await fetch("https://api.thingspeak.com/channels/1662545/feeds.json");a.data=await n.json(),a.info=a.data.channel,a.data=a.data.feeds,a.lastData=a.data[a.data.length-1],a.lastData.date=new Date(a.lastData.created_at).toLocaleDateString(),a.lastData.time=new Date(a.lastData.created_at).toLocaleTimeString()},d=s=>{a.active=!a.active,document.body.classList.toggle("td"),document.body.classList.toggle("tl")};return r(async()=>{a.channels=v,setInterval(e,2e3),navigator.geolocation.getCurrentPosition(s=>{a.geoLoc=`https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d200!2d${s.coords.longitude}!3d${s.coords.latitude}!3m2!1i2048!2i768!4f13!5e1!3m2!1ses-419!2sco!4v1647399527212!5m2!1ses-419!2sco`})}),{state:a,setTheme:d}}},u=t("div",{class:"f fas fa-lg fa-sun"},null,-1),p=t("div",{class:"f fas fa-lg fa-moon"},null,-1),D=[u,p],w={class:"map"},y=["src"],L={class:"data"},b={class:"dt"},k=t("div",{class:"dt-i fad fa-calendar-clock"},null,-1),x={class:"dt-v v"},C={id:"fd"},T={id:"ft"},j={class:"dt"},B=t("div",{class:"dt-i fad fa-temperature-sun te"},null,-1),I={class:"dt-v te"},M={id:"te"},S=t("span",{class:"dt-tg"},"\xB0C",-1),V={class:"dt"},E=t("div",{class:"dt-i fad fa-hand-holding-water hu"},null,-1),F={class:"dt-v hu"},P={id:"hu"},q=t("span",{class:"dt-tg"},"%",-1);function z(a,e,d,s,n,N){return h(),m(f,null,[t("div",{class:i(["mo",s.state.active?"moon":"sun"]),id:"mo",onClick:e[0]||(e[0]=(...c)=>s.setTheme&&s.setTheme(...c))},[t("div",{class:i(["icn",s.state.active?"act":""]),id:"icn"},D,2)],2),t("div",w,[t("iframe",{id:"map",src:s.state.geoLoc,frameborder:"0",style:{width:"100%",height:"auto"}},null,8,y)]),t("div",L,[t("div",b,[k,t("div",x,[t("span",C,o(s.state.lastData.time),1),t("span",T,o(s.state.lastData.date),1)])]),t("div",j,[B,t("div",I,[t("span",M,o(s.state.lastData.field1),1),S])]),t("div",V,[E,t("div",F,[t("span",P,o(s.state.lastData.field2),1),q])])])],64)}var H=l(g,[["render",z]]);export{H as default};
